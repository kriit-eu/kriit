#!/bin/bash

# Hangi aktiivne haru
branch_name=$(git rev-parse --abbrev-ref HEAD)

# Luba pushid 'main' ja 'master' harudele
if [[ "$branch_name" == "main" || "$branch_name" == "master" ]]; then
  exit 0
fi

# Kontrolli mustrit: number + alakriips + sõnad alakriipsude või sidekriipsudega
if [[ ! "$branch_name" =~ ^[0-9]+_[a-z0-9_-]+$ ]]; then
  echo "❌ Viga: Haru nimi '$branch_name' ei vasta formaadile: number_snake_or_kebab_case_nimi"
  echo "Näide: 42-edit-assignment-criteria või 42_edit_assignment_criteria"
  exit 1
fi

exit 0
